<!DOCTYPE html>
<html lang="en">
  <head>
    <title>BKClient Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/BKClient" class="dashAnchor"></a>
    <a title="BKClient Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">blukiiInfoSDK</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html"> Reference</a>
        <img id="carat" src="../img/carat.png" />
        BKClient Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/BKAxisData.html">BKAxisData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKBeaconSensorData.html">BKBeaconSensorData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKBlukiiCloud.html">BKBlukiiCloud</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKBlukiiInfo.html">BKBlukiiInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKClient.html">BKClient</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKController.html">BKController</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKDiscoveryData.html">BKDiscoveryData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKDiscoverySettings.html">BKDiscoverySettings</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKEddystoneData.html">BKEddystoneData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKFeatureValidator.html">BKFeatureValidator</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKInfoBundleData.html">BKInfoBundleData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKInfoBundleOutputData.html">BKInfoBundleOutputData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKInfoData.html">BKInfoData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKInfoOutputData.html">BKInfoOutputData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKKeyData.html">BKKeyData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKKeyData/Mode.html">– Mode</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/BKiBeaconData.html">BKiBeaconData</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/BKBlukiiCloudError.html">BKBlukiiCloudError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/BKBlukiiCloudUserRole.html">BKBlukiiCloudUserRole</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/BKBlukiiType.html">BKBlukiiType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/BKCommonState.html">BKCommonState</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/BKDiscoveryError.html">BKDiscoveryError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/BKDiscoveryInfo.html">BKDiscoveryInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/BKOutputType.html">BKOutputType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/BKSecureBeaconState.html">BKSecureBeaconState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/BKBlukiiCloudDelegate.html">BKBlukiiCloudDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/BKBlukiiReportInfoViolationDelegate.html">BKBlukiiReportInfoViolationDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/BKClientDiscoveryDelegate.html">BKClientDiscoveryDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/BKDecryptSecureBeaconsDelegate.html">BKDecryptSecureBeaconsDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>BKClient</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">class</span> <span class="kt">BKClient</span> <span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">BKDeviceDiscoveryServiceDelegate</span><span class="p">,</span> <span class="kt">BKDiscoveryBackendResolverDelegate</span></code></pre>

                </div>
              </div>
            <h1 id='main-controller-class-for-discovering-ble-modules' class='heading'>Main Controller class for discovering BLE modules</h1>

<p>BlukiiClient is a single point of contact for all data retieving actions as follows:</p>

<ul>
<li>Discovering BLE modules, extracting BLE advertised data</li>
<li>Decryption of blukii SecureBeacon advertising</li>
</ul>
<h2 id='a-discover-ble-modules-and-extract-their-ble-data' class='heading'>A. Discover BLE modules and extract their BLE data</h2>

<p>To do this you have to do the following steps:</p>
<h3 id='1-initialize-and-start-discovery' class='heading'>1. Initialize and start discovery</h3>

<p>Call <code>initDiscovery()</code> and implement the <code><a href="../Protocols/BKClientDiscoveryDelegate.html">BKClientDiscoveryDelegate</a></code> delegates. After initialization is ready (<code><a href="../Protocols/BKClientDiscoveryDelegate.html#/s:10BlukiiInfo25BKClientDiscoveryDelegateP02onD11InitializedyyF">BKClientDiscoveryDelegate.onDiscoveryInitialized()</a></code>) you can start the discovery.</p>
<pre class="highlight swift"><code> <span class="k">var</span> <span class="nv">mBlukiiClient</span><span class="p">:</span> <span class="kt">BKClient</span><span class="o">!</span>

 <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
     <span class="o">...</span>
     <span class="n">mBlukiiClient</span> <span class="o">=</span> <span class="kt">BKController</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="nf">getDiscoveryClient</span><span class="p">()</span>
     <span class="n">mBlukiiClient</span><span class="o">.</span><span class="n">discoveryDelegate</span> <span class="o">=</span> <span class="k">self</span>
     <span class="n">mBlukiiClient</span><span class="o">.</span><span class="nf">initDiscovery</span><span class="p">()</span>
     <span class="o">...</span>
 <span class="p">}</span>

 <span class="kd">func</span> <span class="nf">stopDiscovery</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">mBlukiiClient</span><span class="o">.</span><span class="nf">stopDiscovery</span><span class="p">()</span>
 <span class="p">}</span>

 <span class="c1">// Discovery Delegate</span>
 <span class="kd">func</span> <span class="nf">onDiscoveryInitialized</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">if</span> <span class="n">mBlukiiClient</span><span class="o">.</span><span class="nf">startDiscovery</span><span class="p">()</span> <span class="p">{</span>
         <span class="c1">// Discovery successfully started</span>
     <span class="p">}</span>
 <span class="p">}</span>

 <span class="kd">func</span> <span class="nf">onDiscoveryResult</span><span class="p">(</span><span class="nv">discoveryResultList</span><span class="p">:</span> <span class="p">[</span><span class="kt">BKDiscoveryData</span><span class="p">])</span> <span class="p">{</span>
     <span class="c1">// retrieve BLE results</span>
 <span class="p">}</span>

 <span class="kd">func</span> <span class="nf">onDiscoveryError</span><span class="p">(</span><span class="nv">errorCode</span><span class="p">:</span> <span class="kt">BKDiscoveryError</span><span class="p">)</span> <span class="p">{</span>
     <span class="c1">// retrieve errors</span>
 <span class="p">}</span>

 <span class="kd">func</span> <span class="nf">onDiscoveryInfo</span><span class="p">(</span><span class="nv">infoCode</span><span class="p">:</span> <span class="kt">BKDiscoveryInfo</span><span class="p">)</span> <span class="p">{</span>
     <span class="c1">// retrieve infos and changed states</span>
 <span class="p">}</span>
</code></pre>
<h3 id='2-configure-discovery-settings' class='heading'>2. Configure discovery settings</h3>

<p>Use the <code><a href="../Classes/BKDiscoverySettings.html">BKDiscoverySettings</a></code> object for configuring discovery. Get <code><a href="../Classes/BKClient.html#/s:10BlukiiInfo8BKClientC17discoverySettingsAA011BKDiscoveryE0CSgvp">BKClient.discoverySettings</a></code> to retrieve the settings property set.</p>
<pre class="highlight swift"><code> <span class="kd">func</span> <span class="nf">onInitialized</span><span class="p">()</span> <span class="p">{</span>
       <span class="c1">// Discovery successfully initialized</span>

       <span class="k">let</span> <span class="nv">discoverySettings</span><span class="p">:</span> <span class="kt">BKDiscoverySettings</span> <span class="o">=</span> <span class="n">mBlukiiClient</span><span class="o">.</span><span class="n">discoverySettings</span>
       <span class="n">discoverySettings</span><span class="o">.</span><span class="nf">setRssiThreshold</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
       <span class="n">discoverySettings</span><span class="o">.</span><span class="n">scanDuration</span> <span class="o">=</span> <span class="mi">10000</span>
       <span class="o">...</span>

       <span class="k">if</span> <span class="n">mBlukiiClient</span><span class="o">.</span><span class="nf">startDiscovery</span><span class="p">()</span> <span class="p">{</span>
           <span class="c1">// Discovery successfully started</span>
       <span class="p">}</span>
  <span class="p">}</span>
</code></pre>

<p>When BLE scanner is started the BLE discovery is acting according to the <code><a href="../Classes/BKDiscoverySettings.html">BKDiscoverySettings</a></code>:</p>

<ul>
<li>The scanner is searching for BLE modules inside the defined rssi range (<code><a href="../Classes/BKDiscoverySettings.html#/s:10BlukiiInfo19BKDiscoverySettingsC16getRssiThresholdSiyF">BKDiscoverySettings.getRssiThreshold()</a></code>).</li>
<li>After one scan duration (<code><a href="../Classes/BKDiscoverySettings.html#/s:10BlukiiInfo19BKDiscoverySettingsC12scanDurationSivp">BKDiscoverySettings.scanDuration</a></code>) the results are called back to (<code><a href="../Protocols/BKClientDiscoveryDelegate.html#/s:10BlukiiInfo25BKClientDiscoveryDelegateP02onD6ResultyySayAA15BKDiscoveryDataCGF">BKClientDiscoveryDelegate.onDiscoveryResult(_:)</a></code>)</li>
<li>This is repeated until BLE Scanning is stopped by <code><a href="../Classes/BKClient.html#/s:10BlukiiInfo8BKClientC13stopDiscoverySbyF">BKClient.stopDiscovery()</a></code> or the app did enter the background.</li>
<li>if the scanner is paused according to the <code><a href="../Classes/BKDiscoverySettings.html">BKDiscoverySettings</a></code> the info <code><a href="../Enums/BKDiscoveryInfo.html#/s:10BlukiiInfo011BKDiscoveryB0O13bleScanPausedyA2CmF">BKDiscoveryInfo.bleScanPaused</a></code> is called.</li>
<li>For background scanning it is necessary to be in the Configured iBeacon Region. Background scanning will only Scan, if the device is in the configured iBeacon Region and the display will be switched on.  In background it is possible to scan for iBeacon, EddystoneBeacon and InfoBeacon.</li>
</ul>
<h3 id='3-retrieve-results' class='heading'>3. Retrieve results</h3>

<p>The callback <code><a href="../Protocols/BKClientDiscoveryDelegate.html#/s:10BlukiiInfo25BKClientDiscoveryDelegateP02onD6ResultyySayAA15BKDiscoveryDataCGF">BKClientDiscoveryDelegate.onDiscoveryResult(_:)</a></code> will be called after finishing every discovery phase. It retrieves the discovered list of BKOutputElements.</p>

<p><strong>Note:</strong> If no BLE modules have been found discoveryResultList is empty (not nil).</p>
<pre class="highlight swift"><code> <span class="kd">func</span> <span class="nf">onDiscoveryResult</span><span class="p">(</span><span class="nv">discoveryResultList</span><span class="p">:</span> <span class="p">[</span><span class="kt">BKDiscoveryData</span><span class="p">])</span> <span class="p">{</span>
   <span class="c1">// Discovery phase has finished: list of OutputElements are retrieved</span>

   <span class="k">for</span> <span class="n">discoveryData</span> <span class="k">in</span> <span class="n">discoveryResultList</span> <span class="p">{</span>
      <span class="k">let</span> <span class="nv">id</span> <span class="o">=</span> <span class="n">discoveryData</span><span class="o">.</span><span class="n">blukiiId</span>
      <span class="k">let</span> <span class="nv">rssi</span> <span class="o">=</span> <span class="n">discoveryData</span><span class="o">.</span><span class="nf">getRssi</span><span class="p">()</span>
      <span class="o">...</span>
   <span class="p">}</span>
 <span class="p">}</span>
</code></pre>
<h3 id='4-retrieve-errors-and-infos' class='heading'>4. Retrieve errors and infos</h3>

<p>The callbacks <code><a href="../Protocols/BKClientDiscoveryDelegate.html#/s:10BlukiiInfo25BKClientDiscoveryDelegateP02onD5ErroryyAA011BKDiscoveryG0OF">BKClientDiscoveryDelegate.onDiscoveryError(_:)</a></code> and <code><a href="../Protocols/BKClientDiscoveryDelegate.html#/s:10BlukiiInfo25BKClientDiscoveryDelegateP02ondB0yyAA011BKDiscoveryB0OF">BKClientDiscoveryDelegate.onDiscoveryInfo(_:)</a></code> will be called if there is important information about the discover process.</p>
<pre class="highlight swift"><code> <span class="kd">func</span> <span class="nf">onDiscoveryError</span><span class="p">(</span><span class="nv">errorCode</span><span class="p">:</span> <span class="kt">BKDiscoveryError</span><span class="p">)</span> <span class="p">{</span>
     <span class="c1">// An error has been sent from discover</span>
 <span class="p">}</span>

 <span class="kd">func</span> <span class="nf">onDiscoveryInfo</span><span class="p">(</span><span class="nv">infoCode</span><span class="p">:</span> <span class="kt">BKDiscoveryInfo</span><span class="p">)</span> <span class="p">{</span>
     <span class="c1">// An info has been sent from discovery</span>
 <span class="p">}</span>
</code></pre>
<h3 id='5-permission' class='heading'>5. Permission</h3>

<p>In Info.plist set the following keys for Beacon Detection:</p>

<ul>
<li>NSLocationAlwaysUsageDescription</li>
<li>NSBluetoothAlwaysUsageDescription</li>
</ul>

<p>Add the Follow Capapilities to your Project, for scanning Beacons in Background:</p>

<ul>
<li>Background Mode: Location Updates</li>
<li>Background Mode: Uses Bluetooth LE accessoires</li>
</ul>
<h2 id='b-decryption-of-securebeacon-advertising' class='heading'>B. Decryption of SecureBeacon advertising</h2>

<p>blukii SecureBeacons are encrypted to prevent third parties from misusing the Beacon identification.</p>

<p>The encryption is affecting the mac address and the iBeacon Major and Minor value.</p>

<p>You can decrypt DiscoveryData by calling  <code>decryptSecureBeacons(discoveryDataList:)</code>. To detect a SecureBeacon, you have to set your secureBeacon UUID to <code><a href="../Classes/BKDiscoverySettings.html#/s:10BlukiiInfo19BKDiscoverySettingsC16securebeaconUUID10Foundation0F0Vvp">BKDiscoverySettings.securebeaconUUID</a></code></p>

<p>The delegate <code><a href="../Protocols/BKDecryptSecureBeaconsDelegate.html#/s:10BlukiiInfo30BKDecryptSecureBeaconsDelegateP09onDecryptdE0_14decryptedCountySayAA15BKDiscoveryDataCG_SitF">BKDecryptSecureBeaconsDelegate.onDecryptSecureBeacons(_:decryptedCount:)</a></code>  is retrieving a copy of the input parameter list containing decrypted values. Each BKDiscoveryData object, that has been decrypted is marked with <code><a href="../Classes/BKDiscoveryData.html#/s:10BlukiiInfo15BKDiscoveryDataC17secureBeaconStateAA08BKSecurefG0Ovp">BKDiscoveryData.secureBeaconState</a></code> as <code><a href="../Enums/BKSecureBeaconState.html#/s:10BlukiiInfo19BKSecureBeaconStateO9decryptedyA2CmF">BKSecureBeaconState.decrypted</a></code>.</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">onDecryptSecureBeacons</span><span class="p">(</span><span class="n">_</span> <span class="nv">decryptedDiscoveryDataList</span><span class="p">:</span> <span class="p">[</span><span class="kt">BKDiscoveryData</span><span class="p">],</span> <span class="nv">decryptedCount</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
   <span class="nf">print</span><span class="p">(</span><span class="s">"BlukiiClient.onDiscoveryResult: DecryptSecureBeacons Successful: Count="</span> <span class="o">+</span>  <span class="n">decryptedCount</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">onDecryptError</span><span class="p">(</span><span class="n">_</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span> <span class="p">{</span>
   <span class="nf">print</span><span class="p">(</span><span class="s">"BlukiiClient.onDiscoveryResult: DecryptSecureBeacons failed: error="</span> <span class="o">+</span> <span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p><strong>Note:</strong> SecureBeacons can only be decrypted by its owner, so the corresponding user needs to be logged in (@see <code><a href="../Classes/BKBlukiiCloud.html">BKBlukiiCloud</a></code>)</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Delegates"></a>
                <a name="//apple_ref/swift/Section/Delegates" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Delegates"></a>
                  <h3 class="section-name"><p>Delegates</p>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC17discoveryDelegateAA0c9DiscoveryE0_pSgvp"></a>
                    <a name="//apple_ref/swift/Property/discoveryDelegate" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC17discoveryDelegateAA0c9DiscoveryE0_pSgvp">discoveryDelegate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Discovery Delegate for BLE discovery</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="k">var</span> <span class="nv">discoveryDelegate</span><span class="p">:</span> <span class="kt"><a href="../Protocols/BKClientDiscoveryDelegate.html">BKClientDiscoveryDelegate</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC27decryptSecureBeaconDelegateAA09BKDecrypte7BeaconsG0_pSgvp"></a>
                    <a name="//apple_ref/swift/Property/decryptSecureBeaconDelegate" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC27decryptSecureBeaconDelegateAA09BKDecrypte7BeaconsG0_pSgvp">decryptSecureBeaconDelegate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>SecureBeacon Decryption Delegate</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="k">var</span> <span class="nv">decryptSecureBeaconDelegate</span><span class="p">:</span> <span class="kt"><a href="../Protocols/BKDecryptSecureBeaconsDelegate.html">BKDecryptSecureBeaconsDelegate</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Settings"></a>
                <a name="//apple_ref/swift/Section/Settings" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Settings"></a>
                  <h3 class="section-name"><p>Settings</p>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC17discoverySettingsAA011BKDiscoveryE0CSgvp"></a>
                    <a name="//apple_ref/swift/Property/discoverySettings" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC17discoverySettingsAA011BKDiscoveryE0CSgvp">discoverySettings</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Discovery Settings</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">internal(set)</span> <span class="kd">open</span> <span class="k">var</span> <span class="nv">discoverySettings</span><span class="p">:</span> <span class="kt"><a href="../Classes/BKDiscoverySettings.html">BKDiscoverySettings</a></span><span class="o">!</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Manage%20Discovery%20Service"></a>
                <a name="//apple_ref/swift/Section/Manage Discovery Service" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Manage%20Discovery%20Service"></a>
                  <h3 class="section-name"><p>Manage Discovery Service</p>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC13isDiscoveringSbyF"></a>
                    <a name="//apple_ref/swift/Method/isDiscovering()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC13isDiscoveringSbyF">isDiscovering()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Gets the state if BLE scanner is actuallly running.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">isDiscovering</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>true, if BLE scanner is scanning</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC13initDiscoveryyyF"></a>
                    <a name="//apple_ref/swift/Method/initDiscovery()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC13initDiscoveryyyF">initDiscovery()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initializes the discovery service.</p>

<p>If successful, the delegate <code><a href="../Protocols/BKClientDiscoveryDelegate.html#/s:10BlukiiInfo25BKClientDiscoveryDelegateP02onD11InitializedyyF">BKClientDiscoveryDelegate.onDiscoveryInitialized()</a></code> is called.
Otherwise the delegate <code><a href="../Protocols/BKClientDiscoveryDelegate.html#/s:10BlukiiInfo25BKClientDiscoveryDelegateP02onD5ErroryyAA011BKDiscoveryG0OF">BKClientDiscoveryDelegate.onDiscoveryError(_:)</a></code> is called with an error.</p>

<p><strong>Note</strong>: By calling this function the service instance BKDeviceDiscoveryService is started and binded by the BKClient object. This is required before calling <code><a href="../Classes/BKClient.html#/s:10BlukiiInfo8BKClientC14startDiscoverySbyF">startDiscovery()</a></code> and <code><a href="../Classes/BKClient.html#/s:10BlukiiInfo8BKClientC13stopDiscoverySbyF">stopDiscovery()</a></code> for starting and stopping the discovery for BLE modules. Without <code><a href="../Classes/BKClient.html#/s:10BlukiiInfo8BKClientC14startDiscoverySbyF">startDiscovery()</a></code> <code>BKClient</code> is not do any action and therefore not using the battery.</p>

<p><strong>Note</strong>: Use this function only, if the view is loaded. For Example viewDidAppear.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">initDiscovery</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC22isDiscoveryInitializedSbyF"></a>
                    <a name="//apple_ref/swift/Method/isDiscoveryInitialized()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC22isDiscoveryInitializedSbyF">isDiscoveryInitialized()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Gets the state if the discovery service is initialized.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">isDiscoveryInitialized</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>true, if discovery service is initialized</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC14startDiscoverySbyF"></a>
                    <a name="//apple_ref/swift/Method/startDiscovery()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC14startDiscoverySbyF">startDiscovery()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Starts the BLE scanner.</p>

<p>It only can be started if the discovery service has been initialized befor by calling <code><a href="../Classes/BKClient.html#/s:10BlukiiInfo8BKClientC13initDiscoveryyyF">initDiscovery()</a></code>!</p>

<p><strong>Note</strong>: Only when the BLE scanner is started successfully the <code><a href="../Protocols/BKClientDiscoveryDelegate.html">BKClientDiscoveryDelegate</a></code> delegates are called if there is any discovery result, error or info.</p>

<p>You can stop scanning by calling <code><a href="../Classes/BKClient.html#/s:10BlukiiInfo8BKClientC13stopDiscoverySbyF">stopDiscovery()</a></code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">startDiscovery</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>true, if start is successful.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC13stopDiscoverySbyF"></a>
                    <a name="//apple_ref/swift/Method/stopDiscovery()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC13stopDiscoverySbyF">stopDiscovery()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Stops the BLE scanner.</p>

<p>You can start scanning by calling <code><a href="../Classes/BKClient.html#/s:10BlukiiInfo8BKClientC14startDiscoverySbyF">startDiscovery()</a></code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">stopDiscovery</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>true, if stop is successful.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Secure%20Beacon"></a>
                <a name="//apple_ref/swift/Section/Secure Beacon" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Secure%20Beacon"></a>
                  <h3 class="section-name"><p>Secure Beacon</p>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC33SECUREBEACON_CACHETIMEOUT_DEFAULTSivpZ"></a>
                    <a name="//apple_ref/swift/Variable/SECUREBEACON_CACHETIMEOUT_DEFAULT" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC33SECUREBEACON_CACHETIMEOUT_DEFAULTSivpZ">SECUREBEACON_CACHETIMEOUT_DEFAULT</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The Default SecureBeacon cache Timeout</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="k">let</span> <span class="nv">SECUREBEACON_CACHETIMEOUT_DEFAULT</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC34getDecryptSecureBeaconCacheTimeoutSiyF"></a>
                    <a name="//apple_ref/swift/Method/getDecryptSecureBeaconCacheTimeout()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC34getDecryptSecureBeaconCacheTimeoutSiyF">getDecryptSecureBeaconCacheTimeout()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Gets the current cache timeout for secure beacon decryption. If value is 0, cache is off.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">getDecryptSecureBeaconCacheTimeout</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Timeout in seconds</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC34setDecryptSecureBeaconCacheTimeoutyySiF"></a>
                    <a name="//apple_ref/swift/Method/setDecryptSecureBeaconCacheTimeout(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC34setDecryptSecureBeaconCacheTimeoutyySiF">setDecryptSecureBeaconCacheTimeout(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets the current cache timeout for secure beacon decryption. If value is 0, cache is off.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">setDecryptSecureBeaconCacheTimeout</span><span class="p">(</span><span class="n">_</span> <span class="nv">decryptSecureBeaconCacheTimeout</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10BlukiiInfo8BKClientC20decryptSecureBeacons17discoveryDataListySayAA011BKDiscoveryH0CG_tF"></a>
                    <a name="//apple_ref/swift/Method/decryptSecureBeacons(discoveryDataList:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10BlukiiInfo8BKClientC20decryptSecureBeacons17discoveryDataListySayAA011BKDiscoveryH0CG_tF">decryptSecureBeacons(discoveryDataList:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Tries to decrypt the <code>discoveryDataList</code> list items that are marked with <code><a href="../Classes/BKDiscoveryData.html#/s:10BlukiiInfo15BKDiscoveryDataC17secureBeaconStateAA08BKSecurefG0Ovp">BKDiscoveryData.secureBeaconState</a></code> as <code><a href="../Enums/BKSecureBeaconState.html#/s:10BlukiiInfo19BKSecureBeaconStateO9encryptedyA2CmF">BKSecureBeaconState.encrypted</a></code>. If successful <code><a href="../Protocols/BKDecryptSecureBeaconsDelegate.html#/s:10BlukiiInfo30BKDecryptSecureBeaconsDelegateP09onDecryptdE0_14decryptedCountySayAA15BKDiscoveryDataCG_SitF">BKDecryptSecureBeaconsDelegate.onDecryptSecureBeacons(_:decryptedCount:)</a></code> is called with the result list, otherwise <code><a href="../Protocols/BKDecryptSecureBeaconsDelegate.html#/s:10BlukiiInfo30BKDecryptSecureBeaconsDelegateP14onDecryptErroryys0I0_pF">BKDecryptSecureBeaconsDelegate.onDecryptError(_:)</a></code> is called. Therefore an blukii Manager user authentication via <code><a href="../Classes/BKBlukiiCloud.html#/s:10BlukiiInfo13BKBlukiiCloudC5loginyyF">BKBlukiiCloud.login()</a></code> is needed.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">decryptSecureBeacons</span><span class="p">(</span><span class="nv">discoveryDataList</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/BKDiscoveryData.html">BKDiscoveryData</a></span><span class="p">])</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>discoveryDataList</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>discoveryData Array that needs to be decrypted</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="https://www.blukii.com" target="_blank" rel="external">Blukii</a>. All rights reserved. (Last updated: 2020-03-10)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
